# JWT测试应用

这是一个用于测试JWT令牌过期功能的Vue 3应用。

## 功能特性

- ✅ 用户登录认证
- ✅ JWT令牌管理
- ✅ 实时令牌状态显示
- ✅ 自动检测令牌过期
- ✅ 过期后自动退出登录
- ✅ 路由保护
- ✅ 令牌剩余时间倒计时

## 安装依赖

```bash
cd web/tests
npm install
```

## 启动应用

```bash
npm run dev
```

应用将在 http://localhost:3000 启动

## 测试账号

- **用户名**: administrator
<<<<<<< HEAD
- **密码**: @worklan18
=======
- **密码**: 12345678
>>>>>>> 0955b2e (更新web部分和相关文件)

## 测试JWT过期功能

1. 使用测试账号登录
2. 进入仪表板页面
3. 观察JWT令牌的剩余时间
4. 等待1分钟后，令牌将自动过期
5. 系统会自动退出登录并跳转到登录页面

## 技术架构

- **前端框架**: Vue 3 + Composition API
- **状态管理**: Pinia
- **路由**: Vue Router 4
- **HTTP客户端**: Axios
- **构建工具**: Vite

## 核心功能说明

### 1. 自动令牌检查
- 每30秒自动检查令牌有效性
- 每1秒更新剩余时间显示
- 过期后自动退出登录

### 2. 路由保护
- 未登录用户无法访问仪表板
- 令牌过期后自动重定向到登录页

### 3. 令牌状态管理
- 实时显示令牌状态（有效/即将过期/已过期）
- 显示精确的过期时间和剩余时间
- 支持手动退出和刷新令牌

## 文件结构

```
src/
├── App.vue              # 主应用组件
├── main.js              # 应用入口
├── router/
│   └── index.js        # 路由配置
├── stores/
│   └── auth.js         # 认证状态管理
└── views/
    ├── Home.vue         # 首页
    ├── Login.vue        # 登录页
    └── Dashboard.vue    # 仪表板
```

## 注意事项

1. 确保后端服务器在 http://localhost:5500 运行
2. JWT令牌设置为1分钟后过期（用于测试）
3. 系统时间需要正确设置
4. 建议在浏览器开发者工具中观察网络请求

## 故障排除

如果遇到问题，请检查：
1. 后端服务是否正常运行
2. 网络连接是否正常
3. 浏览器控制台是否有错误信息
4. 系统时间是否正确
